<div id="mainContent" class="order-container">
  <div id="category-buttons">
    <!-- Nút lọc theo danh mục (tùy chỉnh nếu cần) -->
  </div>

  <div id="order-section">
    <h2 class="title">Danh sách đơn hàng</h2>
    <button id="btnShowOrderForm" class="btn-add">+ Thêm Đơn Hàng</button>
    <div class="order-grid" id="orderGrid"></div>
  </div>

  <!-- Form Thêm -->
  <dialog id="add-form">
    <h3>Thêm đơn hàng mới</h3>
    <form id="addOrderForm" enctype="application/x-www-form-urlencoded">
      <input type="hidden" id="orderID" name="orderID">
      <label>Ngày:</label><br>
      <input type="date" id="orderDate" name="orderDate" required><br><br>
      <label>Tổng:</label><br>
      <input type="text" id="totalPrice" name="totalPrice" readonly required><br><br>
      <label>Trạng thái:</label><br>
      <select id="status" name="status">
        <option value="Pending">Dùng tại quán</option>
        <option value="completed">Mang về</option>
      </select><br><br>
      <div id="orderItems">
        <h4>Chọn món:</h4>
        <div class="order-item">
          <select name="drinksID[]" required></select>
          <input type="number" name="quantity[]" value="1" min="1" required>
          <button type="button" class="btn-remove-item">Xóa</button>
        </div>
      </div>
      <button type="button" id="btnAddItem" class="btn-add">Thêm món</button><br><br>
      <label>Bàn:</label><br>
      <select id="tableSelect" name="tableID" required></select><br><br>
      <div class="form-buttons">
        <button type="submit" class="btn-save">Lưu</button>
        <button type="button" id="btnCancel" class="btn-cancel">Huỷ</button>
      </div>
    </form>
  </dialog>

  <dialog id="edit-form">
    <h3>Chỉnh sửa đơn hàng</h3>
    <form id="editOrderForm" enctype="application/x-www-form-urlencoded">
      <input type="hidden" id="orderID" name="orderID">
      <label>Ngày:</label><br>
      <input type="date" id="orderDate" name="orderDate" required><br><br>
      <label>Tổng:</label><br>
      <input type="text" id="totalPrice" name="totalPrice" readonly required><br><br>
      <label>Trạng thái:</label><br>
      <select id="status" name="status">
        <option value="Pending">Dùng tại quán</option>
        <option value="completed">Mang về</option>
      </select><br><br>
      <div id="orderItems">
        <h4>Chọn món:</h4>
        <div class="order-item">
          <select name="drinksID[]" required></select>
          <input type="number" name="quantity[]" value="1" min="1" required>
          <button type="button" class="btn-remove-item">Xóa</button>
        </div>
      </div>
      <button type="button" id="btnAddItem" class="btn-add">Thêm món</button><br><br>
      <p id="currentTableDisplay"></p>
      <label>Bàn:</label><br>
      <select id="tableSelect" name="tableID"></select><br><br> 
      <div class="form-buttons">
        <button type="submit" class="btn-save">Lưu</button>
        <button type="button" id="btnCancelEdit" class="btn-cancel">Huỷ</button>
      </div>
    </form>
  </dialog>
</div>

<link rel="stylesheet" href="../assets/css/orders.css">

<script src="OrderController.js"></script>
<script>
  const mainContent = document.getElementById('mainContent');
  if (mainContent) {
    OrderController.init(mainContent);
  } else {
    console.error('Không tìm thấy element #mainContent');
  }
</script>